---
import Layout from '@layouts/Layout.astro'
import PageHeader from '@components/profile/PageHeader.astro'
import ProfileContainer from '@containers/ProfileContainer.astro'
import { activeUser } from "src/utils/activeUser"

const  user  = activeUser()
---

<Layout title="Job Search | Qualifications">
    <div class="max-w-[40rem] px-4 py-10 lg:pt-20 sm:px-6 lg:px-8 lg:py-14 mx-auto mt-10 dark:text-white">
        <PageHeader href="/Profile" title="Qualifications" subtitle="We use these details to show you jobs that match your unique skills and experience." />
        <div class="mt-5">
            <div class="flex flex-col gap-3 text-semibold dark:text-white/65">
                <div class={`${user?.skills.length > 0 ? '': 'border-b'}  ${user?.skills.length > 0 ? '': 'mb-3'} ${user?.skills.length > 0 ? '': 'py-3'} border-t p-1  mt-0 before:inset-0 dark:border-gray-700 dark:before:border-gray-700 dark:before:hover:border-blue-500  dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600 active  -z-2 transition-all ease-in-out duration-300 hover:bg-blue-100 hover:border-blue-400  dark:hover:bg-[#1E293B] cursor-pointer`}  data-hs-overlay="#addSkillModal"
                >
                    <div class="flex flex-row items-center w-full justify-between">
                        <div class="flex flex-col">
                        <h1 class="font-bold mb-1 text-lg">Skills  {user?.skills.length > 0 ? (<span class="text-green-700 text-xs">Added</span>) : ''}</h1>
                        </div>
                        <div>
                            {user?.skills.length > 0 ? (<i class="fa fa-edit" aria-hidden="true"></i>) : (<i class="fa fa-plus" aria-hidden="true"></i>)}
                        </div>
                    </div>
                    {
                        user?.skills.length > 0 ? (
                            <div class="text-sm font-semibold pl-9 mt-2">
                                {                            
                                    user?.skills.map((skill) => (
                                        <p class="text-sm mb-1">{skill.skill},  <span class="text-gray-500 text-sm">{skill.years} Year{skill.years > 1 ? 's' : ''}</span></p>
                                    ))
                                }
                            </div>
                        ) : ''
                    }
                </div>
                <div class={`${user?.experience.length > 0 ? '': 'border-b'}  ${user?.experience.length > 0 ? '': 'mb-3'} ${user?.experience.length > 0 ? '': 'py-3'} border-t p-1  mt-0 before:inset-0 dark:border-gray-700 dark:before:border-gray-700 dark:before:hover:border-blue-500  dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600 active  -z-2 transition-all ease-in-out duration-300 hover:bg-blue-100 hover:border-blue-400  dark:hover:bg-[#1E293B] cursor-pointer`} 
                >
                    <div class="flex flex-row items-center w-full justify-between" data-hs-overlay="#addExperienceModal">
                        <div class="flex flex-col">
                        <h1 class="font-bold mb-1 text-lg">Work experience {user?.experience.length > 0 ? (<span class="text-green-700 text-xs">Added</span>) : ''}</h1>
                        </div>
                        <div>
                            {user?.experience.length > 0 ? (<i class="fa fa-edit" aria-hidden="true"></i>) : (<i class="fa fa-plus" aria-hidden="true"></i>)}
                        </div>
                    </div>
                    {
                        user?.experience.length > 0 ? (
                            <div class="text-sm font-semibold pl-9 mt-2">
                                {                            
                                    user?.experience.map((exp) => (
                                        <p class="text-sm mb-1">{exp.title},  <span class="text-gray-500 text-sm">{exp.company}, <span class="text-xs">{exp.endDate ? exp.endDate : "Still working here"}</span></span></p>
                                    ))
                                }
                            </div>
                        ) : ''
                    }
                </div>
                <div class={`${user?.education.length > 0 ? '': 'border-b'}  ${user?.education.length > 0 ? '': 'mb-3'} ${user?.education.length > 0 ? '': 'py-3'} border-t p-1  mt-0 before:inset-0 dark:border-gray-700 dark:before:border-gray-700 dark:before:hover:border-blue-500  dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600 active  -z-2 transition-all ease-in-out duration-300 hover:bg-blue-100 hover:border-blue-400  dark:hover:bg-[#1E293B] cursor-pointer`}
                >
                    <div class="flex flex-row items-center w-full justify-between" data-hs-overlay="#addEducationModal">
                        <div class="flex flex-col">
                        <h1 class="font-bold mb-1 text-lg">Education {user?.education.length > 0 ? (<span class="text-green-700 text-xs">Added</span>) : ''}</h1>
                        </div>
                        <div>
                            {user?.education.length > 0 ? (<i class="fa fa-edit" aria-hidden="true"></i>) : (<i class="fa fa-plus" aria-hidden="true"></i>)}
                        </div>
                    </div>
                    {
                        user?.education.length > 0 ? (
                            <div class="text-sm font-semibold pl-9 mt-2">
                                {                            
                                    user?.education.map((edu) => (
                                        <p class="text-sm mb-1">{edu.level},  <span class="text-gray-500 text-sm">{edu.field_of_study}</span></span></p>
                                    ))
                                }
                            </div>
                        ) : ''
                    }
                </div>
                <div class={`${user?.licenses.length > 0 ? '': 'border-b'}  ${user?.licenses.length > 0 ? '': 'mb-3'} ${user?.licenses.length > 0 ? '': 'py-3'} border-t p-1 mt-0 before:inset-0 dark:border-gray-700 dark:before:border-gray-700 dark:before:hover:border-blue-500 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600 active -z-2 transition-all ease-in-out duration-300 hover:bg-blue-100 hover:border-blue-400  dark:hover:bg-[#1E293B] cursor-pointer`} data-hs-overlay="#addLicensesModal"
                >
                    <div class="flex flex-row items-center w-full justify-between">
                        <div class="flex flex-col">
                        <h1 class="font-bold text-lg">Licences {user?.licenses ? (<span class="text-green-700 text-xs">Added</span>) : ''}</h1>
                        </div>
                        <div>
                            {user?.licenses.length > 0 ? (<i class="fa fa-edit" aria-hidden="true"></i>) : (<i class="fa fa-plus" aria-hidden="true"></i>)}
                        </div>
                    </div>
                    {
                        user?.licenses.length > 0 ? (
                            <div class="text-sm font-semibold pl-9 mt-2">
                                {                            
                                    user?.licenses.map((lic) => (
                                        <p class="text-sm ">{lic.License},  <span class="text-gray-500 text-sm">{lic.expiry}</span></p>
                                    ))
                                }
                            </div>
                        ) : ''
                    }
                </div>
                <div class={`${user?.certificates.length > 0 ? '': 'border-b'}  ${user?.certificates.length > 0 ? '': 'mb-3'} ${user?.certificates.length > 0 ? '': 'py-3'} border-t p-1  mt-0 before:inset-0 dark:border-gray-700 dark:before:border-gray-700 dark:before:hover:border-blue-500  dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600 active  -z-2 transition-all ease-in-out duration-300 hover:bg-blue-100 hover:border-blue-400  dark:hover:bg-[#1E293B] cursor-pointer`} data-hs-overlay="#addCertificationModal"
                >
                    <div class="flex flex-row items-center w-full justify-between">
                        <div class="flex flex-col">
                        <h1 class="font-bold mb-1 text-lg">Certifications</h1>
                        </div>
                        <div>
                            {user?.certificates.length > 0 ? (<i class="fa fa-edit" aria-hidden="true"></i>) : (<i class="fa fa-plus" aria-hidden="true"></i>)}
                        </div>
                    </div>
                    {
                        user?.certificates.length > 0 ? (
                            <div class="text-sm font-semibold pl-9 mt-2">
                                {                            
                                    user?.certificates.map((cert) => (
                                        <p class="text-sm mb-1">{cert.certificate},  <span class="text-gray-500 text-sm">{cert.expiry}</span></p>
                                    ))
                                }
                            </div>
                        ) : ''
                    }
                </div>
                <div class={`${user?.languages.length > 0 ? '': 'border-b'}  ${user?.languages.length > 0 ? '': 'mb-3'} ${user?.languages.length > 0 ? '': 'py-3'} border-t p-1  mt-0 before:inset-0 dark:border-gray-700 dark:before:border-gray-700 dark:before:hover:border-blue-500  dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600 active  -z-2 transition-all ease-in-out duration-300 hover:bg-blue-100 hover:border-blue-400  dark:hover:bg-[#1E293B] cursor-pointer`}data-hs-overlay="#addLanguageModal"
                >
                    <div class="flex flex-row items-center w-full justify-between">
                        <div class="flex flex-col">
                        <h1 class="font-bold mb-1 text-lg">Languages {user?.languages.length > 0 ? (<span class="text-green-700 text-xs">Added</span>) : ''}</h1>
                        </div>
                        <div>
                            {user?.languages.length > 0 ? (<i class="fa fa-edit" aria-hidden="true"></i>) : (<i class="fa fa-plus" aria-hidden="true"></i>)}
                        </div>
                    </div>
                    {
                        user?.languages.length > 0 ? (
                            <div class="text-sm font-semibold pl-9 mt-2">
                                {                            
                                    user?.languages.map((lang) => (
                                        <p class="text-sm mb-1">{lang.language},  <span class="text-gray-500 text-sm">{lang.Proficiency}</span></p>
                                    ))
                                }
                            </div>
                        ) : ''
                    }
                </div>
            </div>
        </div>
    </div>
    <ProfileContainer></ProfileContainer>
</Layout>